{"version":3,"sources":["serviceWorker.ts","components/footer/footer.tsx","redux/action-type.ts","models/UserLoginDetails.ts","redux/store.ts","redux/reducer.ts","redux/app-state.ts","utils/ErrorHandlerUIUtils.tsx","components/login/login.tsx","models/UserRegisterDetails.ts","components/register/register.tsx","utils/VacationsUtils.tsx","components/customer/customer.tsx","components/navBar/scrollTop.tsx","components/navBar/navBar.tsx","models/vacation.ts","components/admin/admin.tsx","components/reports/reports.tsx","components/PageNotFound/PageNotFound.tsx","components/header/header.tsx","components/layout/layout.tsx","index.tsx"],"names":["Boolean","window","location","hostname","match","Footer","className","ActionType","UserLoginDetails","userName","password","store","createStore","oldAppState","action","newAppState","type","updateIsUserLoggedIn","isUserLoggedIn","payload","ErrorHandlerUiUtils","error","comp","undefined","response","console","log","message","this","showSnackbarWithErrorStatus","hideSnackbarAndSendToPageNotFound","status","data","showRedNoteToUser","hideSnackbar","sendBackToHomePage","errorMessage","newAdminState","state","isShowSnackbar","snackbarMessage","setState","errorStatus","newErrorHandlerState","setTimeout","sessionStorage","clear","dispatch","getState","props","history","push","newState","isShowNote","noteToUser","Login","btn","componentDidMount","a","axios","defaults","headers","common","getItem","get","hostUrl","serverResponse","userType","handleErrorsOnUi","setUserName","event","target","value","setPassword","onLoginBtnClicked","trim","newLoginState","currentButton","current","setAttribute","userLoginDetails","post","token","setItem","removeAttribute","React","createRef","placeholder","onChange","ref","onClick","to","exact","Snackbar","anchorOrigin","vertical","horizontal","open","Component","withRouter","UserRegisterDetails","firstName","lastName","Register","setFirstName","length","style","border","setLastName","isFormFeildsValid","newRegisterState","onSignupBtnClicked","userRegisterDetails","VacationsUtils","compState","vacation","vacations","map","vacationToFind","vacationId","indexOf","Customer","socket","checkbox","componentWillUnmount","disconnect","registerSocketListeners","on","newVacation","newClientState","indexForDelete","getVacationIndex","splice","indexForUpdate","index","numOfFollowers","onFollowClicked","currentCheckbox","isFollowed","emit","delete","order","b","socketIOClient","query","sort","key","destination","src","image","alt","id","checked","htmlFor","viewBox","xmlns","fill","fillRule","transform","d","opacity","cx","cy","r","description","startDate","endDate","price","useStyles","makeStyles","theme","createStyles","root","position","bottom","spacing","right","ScrollTop","children","classes","trigger","useScrollTrigger","disableHysteresis","threshold","Zoom","in","anchor","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","BackToTop","Fragment","CssBaseline","Toolbar","Fab","color","size","aria-label","NavBar","unsubscribeStore","subscribe","onLogOutClicked","showSnackbar","AppBar","Vacation","Admin","fileToDelete","onHandleModalButtonsDisplay","isShowUpdateButton","isShowModal","minDate","moment","Date","format","fileInputLabel","slice","imageForPreview","setDestination","setDescription","setImage","files","reader","FileReader","onload","e","result","name","readAsDataURL","setStartDate","setEndDate","setPrice","onCreateVacationClicked","isFormFieldsValid","FormData","append","res","filename","newVacationDetails","fixDateFormat","parse","onUpdateVacationClicked","put","onShowEditModalClicked","newStartDate","split","reverse","join","newEndDate","onDeleteVactionClicked","date","aria-describedby","accept","display","defaultValue","rows","min","max","onKeyDown","preventDefault","marginLeft","marginRight","Reports","labels","newReportsState","randomColors","colorsArray","Math","floor","random","g","includes","redraw","datasets","backgroundColor","borderColor","borderWidth","options","maintainAspectRatio","responsive","title","legend","scales","yAxes","ticks","beginAtZero","stepSize","width","height","PageNotFound","href","Header","autoPlay","muted","loop","Layout","path","component","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.73601db8.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport './footer.css';\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <div className=\"footer\">\r\n            All rights reserved to Hewan Rada (C)\r\n        </div>\r\n    )\r\n}","export enum ActionType {\r\n    updateIsUserLoggedIn\r\n}","export class UserLoginDetails {\r\n    public constructor(\r\n        public userName?: string,\r\n        public password?: string\r\n    ) { }\r\n\r\n}\r\n","import { createStore } from \"redux\";\r\nimport { AppState } from \"./app-state\";\r\nimport { reduce } from \"./reducer\";\r\n\r\nexport const store = createStore(reduce, new AppState());","import { Action } from \"./action\";\r\nimport { ActionType } from \"./action-type\";\r\nimport { AppState } from \"./app-state\";\r\n\r\nexport function reduce(oldAppState: AppState, action: Action): AppState {\r\n    const newAppState = { ...oldAppState };\r\n\r\n    switch (action.type) {\r\n\r\n        case ActionType.updateIsUserLoggedIn:\r\n                newAppState.isUserLoggedIn = !(action.payload)\r\n            break;\r\n\r\n    }\r\n    return newAppState;\r\n}","\r\nexport class AppState {\r\n    public isUserLoggedIn: boolean = false;\r\n}","import { store } from '../redux/store';\nimport { ActionType } from '../redux/action-type';\n\nexport default class ErrorHandlerUiUtils {\n\n    public static handleErrorsOnUi(error: any, comp: any) {\n        //this block handles the 404 code which comes back from the Axios > when the REACT url is wrong\n        if (error.response === undefined) {\n            console.log(error.message);\n            this.showSnackbarWithErrorStatus(404, error.message, comp);\n            this.hideSnackbarAndSendToPageNotFound(comp);\n            return;\n        }\n    \n        //this block handles USER_NAME_ALREADY_EXIST and UNAUTHORIZED (invalid login details)\n        if (error.response.status === 401 || error.response.status === 601) {\n            console.log(error.response.status + \": \" + error.response.data.error);\n            this.showRedNoteToUser(error.response.data.error, comp);\n            return;\n        }\n    \n        //this block handles GENERAL_ERROR and NO_VACATION_DATA and all other uncaught errors\n        if (error.response.status === 600 || error.response.status === 500) {\n            console.log(error.response.status + \": \" + error.response.data.error);\n            this.showSnackbarWithErrorStatus(error.response.status, error.response.data.error, comp);\n            this.hideSnackbarAndSendToPageNotFound(comp);\n            return;\n        }\n    \n        //this block handles NO_FOLLOWERS\n        if (error.response.status === 410) {\n            console.log(error.response.status + \": \" + error.response.data.error);\n            this.showSnackbarWithErrorStatus(error.response.status, error.response.data.error, comp);\n            this.hideSnackbar(comp);\n            return;\n        }\n    \n        //this block handles INVALID_TOKEN\n        if (error.response.status === 403){\n            console.log(error.response.status + \": \" + error.response.data.error);\n            this.showSnackbarWithErrorStatus(error.response.status, error.response.data.error, comp);\n            this.hideSnackbar(comp);\n            this.sendBackToHomePage(comp);\n            return;\n        }\n    \n        console.log(error.message);\n        this.showSnackbarWithErrorStatus(\"Unknown\", error.message, comp);\n        this.hideSnackbar(comp);\n    }\n    \n    public static showSnackbar (errorMessage: any, comp: any){\n        let newAdminState = { ...comp.state };\n        newAdminState.isShowSnackbar = true;\n        newAdminState.snackbarMessage = errorMessage;\n        comp.setState(newAdminState);\n    }\n\n    public static showSnackbarWithErrorStatus(errorStatus: any, errorMessage: any, comp: any) {\n        let newErrorHandlerState = { ...comp.state };\n        newErrorHandlerState.isShowSnackbar = true;\n        newErrorHandlerState.snackbarMessage = errorStatus + \": \" + errorMessage;\n        comp.setState(newErrorHandlerState)\n    }\n    \n    public static hideSnackbar(comp: any) {\n        setTimeout(() => {\n            let newErrorHandlerState = { ...comp.state }\n            newErrorHandlerState.isShowSnackbar = false;\n            comp.setState(newErrorHandlerState);\n        }, 2200)\n    }\n    \n    public static sendBackToHomePage(comp: any) {\n        setTimeout(() => {\n            sessionStorage.clear();\n            store.dispatch({ type: ActionType.updateIsUserLoggedIn, payload: store.getState().isUserLoggedIn })\n            comp.props.history.push(\"/home\");\n        }, 2200)\n    }\n    \n    public static showRedNoteToUser(error: any, comp: any) {\n        let newState = { ...comp.state }\n        newState.isShowNote = true;\n        newState.noteToUser = error;\n        comp.setState(newState);\n    }\n\n    public static hideSnackbarAndSendToPageNotFound(comp: any) {\n        setTimeout(() => {\n            let newErrorHandlerState = { ...comp.state }\n            newErrorHandlerState.isShowSnackbar = false;\n            comp.setState(newErrorHandlerState);\n            comp.props.history.push('/pageNotFound');\n        }, 2200)\n    }\n}\n","import React, { ChangeEvent } from \"react\";\r\nimport { Component } from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\nimport { UserLoginDetails } from \"../../models/UserLoginDetails\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport ErrorHandlerUiUtils from \"../../utils/ErrorHandlerUIUtils\"\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport \"./login.css\";\r\n\r\ninterface LoginState {\r\n    userName: string,\r\n    password: string,\r\n    isShowSnackbar: boolean,\r\n    snackbarMessage: string,\r\n    isShowNote: boolean,\r\n    noteToUser?: string\r\n}\r\n\r\nclass Login extends Component<any, LoginState>{\r\n    private btn: React.RefObject<HTMLButtonElement>;\r\n\r\n    public constructor(props: any) {\r\n        super(props);\r\n\r\n        this.btn = React.createRef();\r\n\r\n        this.state = {\r\n            userName: \"\",\r\n            password: \"\",\r\n            isShowSnackbar: false,\r\n            snackbarMessage: \"\",\r\n            isShowNote: false\r\n        };\r\n    }\r\n\r\n    public componentDidMount = async () => {\r\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"token\");\r\n\r\n        if (sessionStorage.getItem(\"token\") != null) {\r\n            try {\r\n                let response = await axios.get(this.props.hostUrl + \":3001/users/details\");\r\n                const serverResponse = response.data;\r\n\r\n                if (serverResponse.userType === \"Admin\") {\r\n                    this.props.history.push('/admin');\r\n\r\n                }\r\n                else if (serverResponse.userType === \"Customer\") {\r\n                    this.props.history.push('/customer');\r\n\r\n                }\r\n            }\r\n            catch (error) {\r\n                ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private setUserName = (event: ChangeEvent<HTMLInputElement>) => {\r\n        const userName = event.target.value;\r\n        this.setState({ userName });\r\n    }\r\n\r\n    private setPassword = (event: ChangeEvent<HTMLInputElement>) => {\r\n        const password = event.target.value;\r\n        this.setState({ password });\r\n    }\r\n\r\n    private onLoginBtnClicked = async () => {\r\n        if (this.state.userName.trim() === \"\" || this.state.password.trim() === \"\") {\r\n            let newLoginState = { ...this.state }\r\n            newLoginState.isShowNote = true\r\n            newLoginState.noteToUser = \"All fields must be filled!\"\r\n            this.setState(newLoginState)\r\n            return;\r\n        }\r\n\r\n        let currentButton = this.btn.current;\r\n        currentButton.setAttribute(\"disabled\", \"disabled\");\r\n\r\n        try {\r\n            console.log(\"Entered login\");\r\n            console.log(this.props.hostUrl);\r\n            \r\n            \r\n            let userLoginDetails = new UserLoginDetails(this.state.userName, this.state.password);\r\n            const response = await axios.post<SuccessfulLoginServerResponse>(this.props.hostUrl + \":3001/users/login\", userLoginDetails);\r\n            const serverResponse = response.data;\r\n\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \" + serverResponse.token;\r\n\r\n            store.dispatch({ type: ActionType.updateIsUserLoggedIn, payload: store.getState().isUserLoggedIn });\r\n\r\n\r\n            sessionStorage.setItem(\"token\", \"\" + serverResponse.token);\r\n            sessionStorage.setItem(\"userName\", this.state.userName);\r\n\r\n\r\n            if (serverResponse.userType === \"Admin\") {\r\n                this.props.history.push('/admin');\r\n                sessionStorage.setItem(\"userType\", \"Admin\");\r\n            }\r\n            else if (serverResponse.userType === \"Customer\") {\r\n                this.props.history.push('/customer');\r\n                sessionStorage.setItem(\"userType\", \"Customer\");\r\n            }\r\n        }\r\n\r\n        catch (error) {\r\n            ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n        }\r\n\r\n        finally {\r\n            currentButton.removeAttribute(\"disabled\");\r\n        }\r\n    }\r\n\r\n\r\n    public render() {\r\n        return (\r\n            <div className=\"login\">\r\n                <h1>LOGIN</h1>\r\n                <input type=\"text\" placeholder=\"User name\" value={this.state.userName} onChange={this.setUserName} />\r\n                <input type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.setPassword} />\r\n                <button ref={this.btn} onClick={this.onLoginBtnClicked}>login</button>\r\n                <p>Not a member? <span> <NavLink to=\"/register\" exact>Sign up now</NavLink></span></p>\r\n                {this.state.isShowNote && <p className=\"noteToUser\">{this.state.noteToUser}</p>}\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n                    open={this.state.isShowSnackbar}\r\n                    message={this.state.snackbarMessage}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withRouter(Login);","export class UserRegisterDetails {\r\n    public constructor(\r\n        public firstName?: string,\r\n        public lastName?: string,\r\n        public userName?: string,\r\n        public password?: string\r\n    ) { }\r\n\r\n}\r\n","import React from \"react\";\r\nimport { ChangeEvent, Component } from \"react\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\nimport { UserRegisterDetails } from \"../../models/UserRegisterDetails\";\r\nimport axios from \"axios\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport ErrorHandlerUiUtils from \"../../utils/ErrorHandlerUIUtils\"\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport \"./register.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\ninterface RegisterState {\r\n    firstName: string,\r\n    lastName: string,\r\n    userName: string,\r\n    password: string,\r\n    isShowSnackbar: boolean,\r\n    snackbarMessage: string,\r\n    isShowNote: boolean,\r\n    noteToUser?: string\r\n}\r\n\r\nclass Register extends Component<any, RegisterState>{\r\n    private btn: React.RefObject<HTMLButtonElement>;\r\n\r\n    public constructor(props: any) {\r\n        super(props);\r\n\r\n        this.btn = React.createRef();\r\n\r\n        this.state = {\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n            userName: \"\",\r\n            password: \"\",\r\n            isShowSnackbar: false,\r\n            snackbarMessage: \"\",        \r\n            isShowNote: false\r\n        };\r\n    }\r\n\r\n    public componentDidMount = async () => {\r\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"token\");\r\n\r\n        try {\r\n            if (sessionStorage.getItem(\"token\") != null) {\r\n                let response = await axios.get(this.props.hostUrl + \":3001/users/details\");\r\n                const serverResponse = response.data;\r\n\r\n                if (serverResponse.userType === \"Admin\") {\r\n                    this.props.history.push('/admin');\r\n\r\n                }\r\n                else if (serverResponse.userType === \"Customer\") {\r\n                    this.props.history.push('/customer');\r\n                }\r\n            }\r\n        }\r\n\r\n        catch (error) {\r\n            ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n        }\r\n\r\n    }\r\n\r\n    private setFirstName = (event: ChangeEvent<HTMLInputElement>) => {\r\n        const firstName = event.target.value;\r\n\r\n        if (firstName.length > 20) {\r\n            event.target.style.border = \"red 1px solid\";\r\n        }\r\n\r\n        event.target.style.border = \"gray 1px solid\";\r\n\r\n        this.setState({ firstName });\r\n    }\r\n\r\n    private setLastName = (event: ChangeEvent<HTMLInputElement>) => {\r\n        const lastName = event.target.value;\r\n\r\n        if (lastName.length > 20) {\r\n            event.target.style.border = \"red 1px solid\";\r\n        }\r\n\r\n        event.target.style.border = \"gray 1px solid\";\r\n\r\n        this.setState({ lastName });\r\n    }\r\n\r\n    private setUserName = (event: ChangeEvent<HTMLInputElement>) => {\r\n        const userName = event.target.value;\r\n\r\n        if (userName.length > 20) {\r\n            event.target.style.border = \"red 1px solid\";\r\n        }\r\n\r\n        event.target.style.border = \"gray 1px solid\";\r\n\r\n        this.setState({ userName });\r\n    }\r\n\r\n    private setPassword = (event: ChangeEvent<HTMLInputElement>) => {\r\n        const password = event.target.value;\r\n\r\n        if (password.length > 20) {\r\n            event.target.style.border = \"red 1px solid\";\r\n        }\r\n\r\n        event.target.style.border = \"gray 1px solid\";\r\n\r\n        this.setState({ password });\r\n    }\r\n\r\n    private isFormFeildsValid = () => {\r\n      //validations\r\n      if (this.state.firstName.trim() === \"\" || this.state.lastName.trim() === \"\" || this.state.userName.trim() === \"\" || this.state.password.trim() === \"\") {\r\n        let newRegisterState = { ...this.state }\r\n        newRegisterState.isShowNote = true\r\n        newRegisterState.noteToUser = \"All fields must be filled!\"\r\n        this.setState(newRegisterState)\r\n        return false;\r\n    }\r\n\r\n    if (this.state.firstName.length > 20 || this.state.lastName.length > 20 || this.state.userName.length > 20 || this.state.password.length > 20) {\r\n        let newRegisterState = { ...this.state }\r\n        newRegisterState.isShowNote = true\r\n        newRegisterState.noteToUser = \"Fields can include max 20 characters\"\r\n        this.setState(newRegisterState)\r\n        return false;\r\n    }\r\n\r\n    if (this.state.password.length < 6) {\r\n        let newRegisterState = { ...this.state }\r\n        newRegisterState.isShowNote = true\r\n        newRegisterState.noteToUser = \"Password must include at least 6 characters\"\r\n        this.setState(newRegisterState)\r\n        return false;\r\n    }\r\n\r\n    this.setState({ isShowNote: false })\r\n    return true;\r\n}\r\n\r\n    private onSignupBtnClicked = async () => {\r\n        if(!this.isFormFeildsValid()){\r\n            return;\r\n        }\r\n\r\n        let currentButton = this.btn.current;\r\n        currentButton.setAttribute(\"disabled\", \"disabled\");\r\n\r\n        try {\r\n            console.log(\"Entered register\");\r\n\r\n            let userRegisterDetails = new UserRegisterDetails(this.state.firstName, this.state.lastName, this.state.userName, this.state.password);\r\n\r\n            const response = await axios.post<SuccessfulLoginServerResponse>(this.props.hostUrl + \":3001/users/register\", userRegisterDetails);\r\n            const serverResponse = response.data;\r\n\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \" + serverResponse.token;\r\n\r\n            store.dispatch({ type: ActionType.updateIsUserLoggedIn, payload: store.getState().isUserLoggedIn });\r\n\r\n            sessionStorage.setItem(\"token\", \"\" + serverResponse.token);\r\n            sessionStorage.setItem(\"userName\", this.state.userName);\r\n\r\n            if (serverResponse.userType === \"Admin\") {\r\n                this.props.history.push('/admin');\r\n                sessionStorage.setItem(\"userType\", \"Admin\");\r\n            }\r\n            else if (serverResponse.userType === \"Customer\") {\r\n                this.props.history.push('/customer');\r\n                sessionStorage.setItem(\"userType\", \"Customer\");\r\n            }\r\n        }\r\n\r\n        catch (error) {\r\n            ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n        }\r\n\r\n        finally {\r\n            currentButton.removeAttribute(\"disabled\");\r\n        }\r\n    }\r\n\r\n\r\n    public render() {\r\n        return (\r\n            <div className=\"register\">\r\n                <h1>SIGN UP</h1>\r\n                <input type=\"text\" placeholder=\"First Name\" value={this.state.firstName} onChange={this.setFirstName} />\r\n                <input type=\"text\" placeholder=\"Last Name\" value={this.state.lastName} onChange={this.setLastName} />\r\n                <input type=\"text\" placeholder=\"User Name\" value={this.state.userName} onChange={this.setUserName} />\r\n                <input type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.setPassword} />\r\n                <button ref={this.btn} onClick={this.onSignupBtnClicked}>Sign Up</button>\r\n                {this.state.isShowNote && <p className=\"noteToUser\">{this.state.noteToUser}</p>}\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n                    open={this.state.isShowSnackbar}\r\n                    message={this.state.snackbarMessage}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withRouter(Register);","import { Vacation } from \"../models/vacation\";\r\n\r\nexport default class VacationsUtils {\r\n    \r\n    public static getVacationIndex(compState: any, vacation : Vacation){\r\n        let index = compState.vacations.map(function (vacationToFind : Vacation) {\r\n            return vacationToFind.vacationId;\r\n        }).indexOf(vacation.vacationId);\r\n        return index;\r\n    }\r\n}","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport { Vacation } from \"../../models/vacation\";\r\nimport socketIOClient from 'socket.io-client'\r\nimport axios from \"axios\";\r\nimport ErrorHandlerUiUtils from \"../../utils/ErrorHandlerUIUtils\"\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport VacationsUtils from \"../../utils/VacationsUtils\"\r\n\r\nimport './customer.css';\r\n\r\ninterface customerState {\r\n    vacations: Vacation[],\r\n    isShowSnackbar: boolean,\r\n    snackbarMessage: string\r\n}\r\n\r\nexport default class Customer extends Component<any, customerState>{\r\n    private socket: any;\r\n    private checkbox: React.RefObject<HTMLInputElement>;\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.checkbox = React.createRef();\r\n\r\n        this.state = {\r\n            vacations: [],\r\n            isShowSnackbar: false,\r\n            snackbarMessage: \"\"\r\n        };\r\n    }\r\n\r\n    public async componentDidMount() {\r\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"token\");\r\n\r\n        try {\r\n            if (sessionStorage.getItem(\"token\") != null) {\r\n                let response = await axios.get(this.props.hostUrl + \":3001/users/details\");\r\n                const serverResponse = response.data;\r\n\r\n                this.socket = socketIOClient(this.props.hostUrl +':3002', { query: 'token=' + sessionStorage.getItem(\"token\") });\r\n\r\n                if (serverResponse.userType !== \"Customer\") {\r\n                    this.props.history.push('/admin');\r\n                    return;\r\n                }\r\n            } else {\r\n                this.props.history.push('/home');\r\n                return;\r\n            }\r\n\r\n            this.registerSocketListeners();\r\n\r\n            const response = await axios.get<Vacation[]>(this.props.hostUrl + \":3001/vacations\");\r\n            this.setState({ vacations: response.data });\r\n        }\r\n        catch (error) {\r\n            ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n        }\r\n\r\n    }\r\n\r\n    public componentWillUnmount = () => {\r\n        if (this.socket != null) {\r\n            this.socket.disconnect();\r\n        }\r\n\r\n    }\r\n\r\n    private registerSocketListeners = () => {\r\n        this.socket.on('add-vacation', (newVacation: Vacation) => {\r\n            let newClientState = { ...this.state }\r\n            newClientState.vacations.push(newVacation)\r\n            this.setState(newClientState)\r\n        });\r\n\r\n        this.socket.on('delete-vacation', (vacation: Vacation) => {\r\n            let newClientState = { ...this.state };\r\n            let indexForDelete = VacationsUtils.getVacationIndex(newClientState, vacation);\r\n            newClientState.vacations.splice(indexForDelete, 1);\r\n            this.setState(newClientState);\r\n        });\r\n\r\n        this.socket.on('edit-vacation', (vacation: Vacation) => {\r\n            let newClientState = { ...this.state }\r\n            let indexForUpdate = VacationsUtils.getVacationIndex(newClientState, vacation);\r\n            newClientState.vacations[indexForUpdate] = vacation;\r\n            this.setState(newClientState)\r\n        });\r\n\r\n        this.socket.on('follow-vacation', (vacation: Vacation) => {\r\n            let newClientState = { ...this.state }\r\n            let index = VacationsUtils.getVacationIndex(newClientState, vacation);\r\n            newClientState.vacations[index].numOfFollowers = newClientState.vacations[index].numOfFollowers + 1;\r\n            this.setState(newClientState)\r\n        })\r\n\r\n        this.socket.on('unfollow-vacation', (vacation: Vacation) => {\r\n            let newClientState = { ...this.state }\r\n            let index = VacationsUtils.getVacationIndex(newClientState, vacation);\r\n            newClientState.vacations[index].numOfFollowers = newClientState.vacations[index].numOfFollowers - 1;\r\n            this.setState(newClientState)\r\n        })\r\n\r\n    }\r\n\r\n\r\n    private onFollowClicked = async (vacation: Vacation) => {\r\n        let currentCheckbox = this.checkbox.current\r\n        currentCheckbox.setAttribute(\"disabled\", \"disabled\");\r\n\r\n        vacation.isFollowed = !vacation.isFollowed;\r\n\r\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"token\");\r\n\r\n        try {\r\n            if (vacation.isFollowed === true) {\r\n\r\n                await axios.post(this.props.hostUrl + \":3001/vacations/follow/\" + vacation.vacationId);\r\n                vacation.numOfFollowers = vacation.numOfFollowers + 1;\r\n                this.socket.emit('follow-vacation', vacation);\r\n\r\n\r\n            }\r\n            else {\r\n\r\n                await axios.delete(this.props.hostUrl + \":3001/vacations/unfollow/\" + vacation.vacationId);\r\n                vacation.numOfFollowers = vacation.numOfFollowers - 1;\r\n                this.socket.emit('unfollow-vacation', vacation);\r\n            }\r\n            this.setState({ vacations: this.state.vacations });\r\n        }\r\n        catch (error) {\r\n            ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n        }\r\n\r\n        finally {\r\n            currentCheckbox.removeAttribute(\"disabled\");\r\n        }\r\n\r\n    }\r\n\r\n    private order = (a: Vacation, b: Vacation) => {\r\n\r\n        if (a.isFollowed > b.isFollowed) {\r\n            return -1;\r\n        } else if (a.isFollowed < b.isFollowed) {\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"customer\">\r\n                <div className=\"cardContainer\">\r\n                    {this.state.vacations.sort((a, b) => this.order(a, b)).map(vacation =>\r\n                        <div className=\"card bg-purple text-white cardBody\" key={vacation.vacationId}>\r\n                            <h5 className=\"card-header\">{vacation.destination}</h5>\r\n                            <img className=\"card-img-top image\" src={vacation.image} alt={vacation.destination} />\r\n                            <input type=\"checkbox\" className=\"checkbox\" ref={this.checkbox} id={vacation.vacationId} checked={vacation.isFollowed} onChange={() => this.onFollowClicked(vacation)} />\r\n                            <label htmlFor={vacation.vacationId}>\r\n                                <svg id=\"heart-svg\" viewBox=\"467 392 58 57\" xmlns=\"http://www.w3.org/2000/svg\"><g id=\"Group\" fill=\"none\" fillRule=\"evenodd\" transform=\"translate(467 392)\"><path d=\"M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z\" id=\"heart\" fill=\"#AAB8C2\" /><circle id=\"main-circ\" fill=\"#E2264D\" opacity=\"0\" cx=\"29.5\" cy=\"29.5\" r=\"1.5\" /><g id=\"grp7\" opacity=\"0\" transform=\"translate(7 6)\"><circle id=\"oval1\" fill=\"#9CD8C3\" cx=\"2\" cy=\"6\" r=\"2\" /><circle id=\"oval2\" fill=\"#8CE8C3\" cx=\"5\" cy=\"2\" r=\"2\" /></g><g id=\"grp6\" opacity=\"0\" transform=\"translate(0 28)\"><circle id=\"oval1\" fill=\"#CC8EF5\" cx=\"2\" cy=\"7\" r=\"2\" /><circle id=\"oval2\" fill=\"#91D2FA\" cx=\"3\" cy=\"2\" r=\"2\" /></g><g id=\"grp3\" opacity=\"0\" transform=\"translate(52 28)\"><circle id=\"oval2\" fill=\"#9CD8C3\" cx=\"2\" cy=\"7\" r=\"2\" /><circle id=\"oval1\" fill=\"#8CE8C3\" cx=\"4\" cy=\"2\" r=\"2\" /></g><g id=\"grp2\" opacity=\"0\" transform=\"translate(44 6)\" fill=\"#CC8EF5\"><circle id=\"oval2\" transform=\"matrix(-1 0 0 1 10 0)\" cx=\"5\" cy=\"6\" r=\"2\" /><circle id=\"oval1\" transform=\"matrix(-1 0 0 1 4 0)\" cx=\"2\" cy=\"2\" r=\"2\" /></g><g id=\"grp5\" opacity=\"0\" transform=\"translate(14 50)\" fill=\"#91D2FA\"><circle id=\"oval1\" transform=\"matrix(-1 0 0 1 12 0)\" cx=\"6\" cy=\"5\" r=\"2\" /><circle id=\"oval2\" transform=\"matrix(-1 0 0 1 4 0)\" cx=\"2\" cy=\"2\" r=\"2\" /></g><g id=\"grp4\" opacity=\"0\" transform=\"translate(35 50)\" fill=\"#F48EA7\"><circle id=\"oval1\" transform=\"matrix(-1 0 0 1 12 0)\" cx=\"6\" cy=\"5\" r=\"2\" /><circle id=\"oval2\" transform=\"matrix(-1 0 0 1 4 0)\" cx=\"2\" cy=\"2\" r=\"2\" /></g><g id=\"grp1\" opacity=\"0\" transform=\"translate(24)\" fill=\"#9FC7FA\"><circle id=\"oval1\" cx=\"2.5\" cy=\"3\" r=\"2\" /><circle id=\"oval2\" cx=\"7.5\" cy=\"2\" r=\"2\" /></g></g></svg>\r\n                            </label>\r\n                            <div className=\"vacationBody\">\r\n                                <p className=\"card-text description\">{vacation.description}</p>\r\n                                <p className=\"card-text\">{vacation.startDate} - {vacation.endDate}</p>\r\n                            </div>\r\n                            <div className=\"vacationFooter card-footer\">\r\n                                <p>{vacation.price}$</p>\r\n                                <i className=\"far fa-grin-hearts fa-1x\"></i><span className=\"faIcon\">{vacation.numOfFollowers}</span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n                    open={this.state.isShowSnackbar}\r\n                    message={this.state.snackbarMessage}\r\n                />\r\n\r\n            </div>\r\n        )\r\n\r\n    }\r\n}","import React from 'react';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport Zoom from '@material-ui/core/Zoom';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      position: 'fixed',\r\n      bottom: theme.spacing(2),\r\n      right: theme.spacing(2),\r\n    },\r\n  }),\r\n);\r\n\r\nfunction ScrollTop(props: any) {\r\n  const { children} = props;\r\n  const classes = useStyles();\r\n  const trigger = useScrollTrigger({\r\n\r\n    disableHysteresis: true,\r\n    threshold: 100,\r\n  });\r\n\r\n  const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\r\n    const anchor = ((event.target as HTMLDivElement).ownerDocument || document).querySelector(\r\n      '#back-to-top-anchor',\r\n    );\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Zoom in={trigger}>\r\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n}\r\n\r\nexport default function BackToTop(props: any) {\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />    \r\n      <Toolbar id=\"back-to-top-anchor\" />\r\n      <ScrollTop {...props}>\r\n        <Fab color=\"secondary\" size=\"small\" aria-label=\"scroll back to top\">\r\n          <KeyboardArrowUpIcon />\r\n        </Fab>\r\n      </ScrollTop>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { store } from \"../../redux/store\";\r\nimport { withRouter } from 'react-router-dom'\r\nimport axios from \"axios\";\r\nimport ErrorHandlerUiUtils from \"../../utils/ErrorHandlerUIUtils\"\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport ScrollTop from './scrollTop'\r\nimport \"./navBar.css\";\r\n\r\ninterface navBarState {\r\n    isUserLoggedIn: boolean,\r\n    isShowSnackbar: boolean,\r\n    snackbarMessage: string\r\n\r\n}\r\n\r\n\r\nclass NavBar extends Component<any, navBarState>  {\r\n    private unsubscribeStore: Unsubscribe;\r\n    private btn: React.RefObject<HTMLButtonElement>;\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.btn = React.createRef();\r\n\r\n        this.state = {\r\n            isUserLoggedIn: store.getState().isUserLoggedIn,\r\n            isShowSnackbar: false,\r\n            snackbarMessage: \"\"\r\n        };\r\n\r\n    }\r\n\r\n    public componentDidMount = () => {\r\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"token\");\r\n\r\n        this.unsubscribeStore = store.subscribe(() => this.setState(\r\n            { isUserLoggedIn: store.getState().isUserLoggedIn }));\r\n\r\n        if (sessionStorage.getItem(\"token\") != null) {\r\n            store.dispatch({ type: ActionType.updateIsUserLoggedIn, payload: store.getState().isUserLoggedIn });\r\n        }\r\n\r\n    }\r\n\r\n    public componentWillUnmount = () => {\r\n        this.unsubscribeStore();\r\n    }\r\n\r\n    public onLogOutClicked = async () => {\r\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"token\");\r\n\r\n        try {\r\n            await axios.post(this.props.hostUrl + \":3001/users/logout\");\r\n           \r\n            this.btn.current.setAttribute(\"disabled\", \"disabled\");\r\n            \r\n            ErrorHandlerUiUtils.showSnackbar(\"Logging-out...\", this)\r\n            ErrorHandlerUiUtils.sendBackToHomePage(this);\r\n            ErrorHandlerUiUtils.hideSnackbar(this);\r\n        }\r\n        catch (error) {\r\n            ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n        }\r\n\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <div className=\"navBar\">\r\n                <React.Fragment>\r\n                    <AppBar>\r\n                        <Toolbar>\r\n                            <h3 className=\"title\" onClick={() => this.props.history.push(\"/home\")}>Magic Travels</h3>\r\n                            <div className=\"helloContainer\">\r\n                                <ul className=\"navbar-nav\">\r\n                                    <li>\r\n                                        {this.state.isUserLoggedIn &&\r\n                                            <div className=\"hello\">\r\n                                                <span>Hello {sessionStorage.getItem(\"userName\")}</span>\r\n                                                <button ref={this.btn} onClick={this.onLogOutClicked}>Log Out</button>\r\n                                            </div>}\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <ScrollTop {...this.props} />\r\n                </React.Fragment>\r\n\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n                    open={this.state.isShowSnackbar}\r\n                    message={this.state.snackbarMessage}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nexport default withRouter(NavBar);\r\n","export class Vacation {\r\n    public constructor(\r\n        public vacationId: string,\r\n        public image: any,\r\n        public destination: string,\r\n        public price: number,\r\n        public description: string,\r\n        public startDate: string,\r\n        public endDate: string,\r\n        public numOfFollowers?: number,\r\n        public isFollowed?: boolean\r\n    ) { }\r\n}","import React, { ChangeEvent } from \"react\";\r\nimport { Component } from \"react\";\r\nimport { Vacation } from \"../../models/vacation\";\r\nimport axios from \"axios\";\r\nimport socketIOClient from 'socket.io-client'\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport ErrorHandlerUiUtils from \"../../utils/ErrorHandlerUIUtils\"\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport moment from 'moment'\r\nimport VacationsUtils from \"../../utils/VacationsUtils\"\r\n\r\nimport './admin.css';\r\n\r\ninterface adminState {\r\n    vacations: Vacation[],\r\n    isShowModal: boolean,\r\n    isShowUpdateButton: boolean,\r\n    minDate: any,\r\n    isShowSnackbar: boolean,\r\n    snackbarMessage: string,\r\n    fileInputLabel: string,\r\n    imageForPreview: any\r\n}\r\n\r\n\r\nclass Admin extends Component<any, adminState>{\r\n    private vacation = new Vacation(\"\", \"\", \"\", 0, \"\", \"\", \"\");\r\n    private socket: any;\r\n    private btn: React.RefObject<HTMLButtonElement>;\r\n    private fileToDelete: string;\r\n    \r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.btn = React.createRef();\r\n\r\n        this.state = {\r\n            vacations: [],\r\n            isShowModal: false,\r\n            isShowUpdateButton: false,\r\n            minDate: moment(new Date()).format('YYYY-MM-DD'),\r\n            isShowSnackbar: false,\r\n            snackbarMessage: \"\",\r\n            fileInputLabel: \"Choose file\",\r\n            imageForPreview: this.props.hostUrl + \":3001/no-image.jpg\"\r\n        };\r\n    }\r\n\r\n    public componentDidMount = async () => {\r\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"token\");\r\n        try {\r\n\r\n            if (sessionStorage.getItem(\"token\") != null) {\r\n                let response = await axios.get(this.props.hostUrl + \":3001/users/details\");\r\n                const serverResponse = response.data;\r\n\r\n                this.socket = socketIOClient(this.props.hostUrl + ':3002', { query: 'token=' + sessionStorage.getItem(\"token\") });\r\n\r\n                if (serverResponse.userType !== \"Admin\") {\r\n                    this.props.history.push('/customer');\r\n                    return;\r\n                }\r\n            } else {\r\n                this.props.history.push('/home');\r\n                return;\r\n            }\r\n\r\n            this.registerSocketListeners();\r\n\r\n            const response = await axios.get<Vacation[]>(this.props.hostUrl + \":3001/vacations\");\r\n            this.setState({ vacations: response.data });\r\n\r\n        }\r\n        catch (error) {\r\n            ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n        }\r\n    }\r\n\r\n    public componentWillUnmount = () => {\r\n        if (this.socket != null) {\r\n            this.socket.disconnect();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    private registerSocketListeners = () => {\r\n        this.socket.on('follow-vacation', (vacation: Vacation) => {\r\n            let newAdminState = { ...this.state }\r\n            let index = VacationsUtils.getVacationIndex(newAdminState, vacation);\r\n            newAdminState.vacations[index].numOfFollowers = newAdminState.vacations[index].numOfFollowers + 1;\r\n            this.setState(newAdminState)\r\n        })\r\n\r\n        this.socket.on('unfollow-vacation', (vacation: Vacation) => {\r\n            let newAdminState = { ...this.state }\r\n            let index = VacationsUtils.getVacationIndex(newAdminState, vacation);\r\n            newAdminState.vacations[index].numOfFollowers = newAdminState.vacations[index].numOfFollowers - 1;\r\n            this.setState(newAdminState)\r\n        })\r\n\r\n    }\r\n\r\n    private onHandleModalButtonsDisplay = (isShowUpdateButton: boolean, vacation?: Vacation) => {\r\n        let newAdminState = { ...this.state };\r\n        newAdminState.isShowModal = !(newAdminState.isShowModal);\r\n\r\n        //on edit vacation\r\n        if (isShowUpdateButton === true) {\r\n            newAdminState.isShowUpdateButton = isShowUpdateButton;\r\n            newAdminState.minDate = moment(new Date()).format('YYYY-MM-DD');\r\n            newAdminState.fileInputLabel = vacation.image.slice(this.props.hostUrl + \":3001/\".length, vacation.image.length);\r\n            newAdminState.imageForPreview = vacation.image;\r\n            this.fileToDelete = vacation.image;\r\n\r\n        } else { //on add vacation\r\n            newAdminState.minDate = moment(new Date()).format('YYYY-MM-DD');\r\n            newAdminState.imageForPreview = this.props.hostUrl + \":3001/no-image.jpg\";\r\n            newAdminState.fileInputLabel = \"Choose file\";\r\n        }\r\n\r\n        this.setState(newAdminState);\r\n\r\n        //init for form inputs\r\n        this.vacation = new Vacation(\"\", this.props.hostUrl + \":3001/no-image.jpg\", \"\", 0, \"\", \"\", \"\");\r\n\r\n    }\r\n\r\n    private setDestination = (event: ChangeEvent<HTMLInputElement>) => {\r\n        const destination = event.target.value;\r\n\r\n        this.vacation.destination = destination;\r\n    }\r\n\r\n    private setDescription = (event: ChangeEvent<HTMLTextAreaElement>) => {\r\n        const description = event.target.value;\r\n\r\n        this.vacation.description = description;\r\n    }\r\n\r\n    private setImage = (event: ChangeEvent<HTMLInputElement>) => {\r\n        const image = event.target.files[0];\r\n\r\n        //for preview\r\n        let reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            let newAdminState = { ...this.state };\r\n            newAdminState.imageForPreview = e.target.result;\r\n            newAdminState.fileInputLabel = image.name;\r\n            this.setState(newAdminState);\r\n        }\r\n\r\n        reader.readAsDataURL(image);\r\n\r\n        this.vacation.image = image;\r\n    }\r\n\r\n    private setStartDate = (event: ChangeEvent<HTMLInputElement>) => {\r\n        let startDate = event.target.value;\r\n\r\n        let minDate = moment(startDate).format('YYYY-MM-DD');\r\n\r\n        this.setState({ minDate })\r\n        this.vacation.startDate = startDate;\r\n    }\r\n\r\n    private setEndDate = (event: ChangeEvent<HTMLInputElement>) => {\r\n        let endDate = event.target.value;\r\n\r\n        this.vacation.endDate = endDate;\r\n    }\r\n\r\n    private setPrice = (event: ChangeEvent<HTMLInputElement>) => {\r\n        const price = +event.target.value;\r\n\r\n        this.vacation.price = price;\r\n    }\r\n\r\n    private fixDateFormat(date: string) {\r\n        date = moment(date, 'YYYY-MM-DD').format('DD/MM/YYYY');\r\n    }\r\n\r\n    private onCreateVacationClicked = async () => {\r\n        if (!this.isFormFieldsValid()) {\r\n            return;\r\n        }\r\n\r\n        let currentButton = this.btn.current;\r\n        currentButton.setAttribute(\"disabled\", \"disabled\");\r\n\r\n        const data = new FormData();\r\n        data.append('file', this.vacation.image);\r\n\r\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"token\");\r\n\r\n        try {\r\n            const res = await axios.post(this.props.hostUrl + \":3001/vacations/upload\", data, {})\r\n\r\n            this.vacation.image = res.data.filename;\r\n\r\n            let newVacationDetails = this.vacation;\r\n\r\n            const response = await axios.post(this.props.hostUrl + ':3001/vacations/add', newVacationDetails);\r\n\r\n            //fix format for UI use\r\n            this.fixDateFormat(response.data.startDate);\r\n            this.fixDateFormat(response.data.endDate);\r\n\r\n            this.socket.emit('add-vacation', response.data);\r\n\r\n            let newAdminState = { ...this.state };\r\n            newAdminState.isShowModal = !(newAdminState.isShowModal);\r\n            newAdminState.vacations.push(response.data);\r\n            newAdminState.fileInputLabel = \"Choose file\";\r\n            this.setState(newAdminState);\r\n\r\n            //init instance for next usage\r\n            this.vacation = new Vacation(\"\", this.props.hostUrl + \":3001/no-image.jpg\", \"\", 0, \"\", \"\", \"\");\r\n        }\r\n\r\n        catch (error) {\r\n            ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n        }\r\n\r\n        finally { currentButton.removeAttribute(\"disabled\") };\r\n    }\r\n\r\n    private isFormFieldsValid = () => {\r\n        //validation\r\n        if (this.vacation.destination.trim() === \"\" || this.vacation.description.trim() === \"\" || this.vacation.image === \"\" || this.vacation.image === this.props.hostUrl + \":3001/no-image.jpg\" || this.vacation.startDate.trim() === \"\" || this.vacation.endDate.trim() === \"\" || this.vacation.price === +\"\") {\r\n            ErrorHandlerUiUtils.showSnackbar(\"All fields must be filled correctly!\", this)\r\n            ErrorHandlerUiUtils.hideSnackbar(this);\r\n            return false;\r\n        }\r\n\r\n        if (Date.parse(this.vacation.endDate) <= Date.parse(this.vacation.startDate)) {\r\n            ErrorHandlerUiUtils.showSnackbar(\"End date is earlier than Start date!\", this)\r\n            ErrorHandlerUiUtils.hideSnackbar(this);\r\n            return false;\r\n        }\r\n\r\n        if (this.vacation.destination.length < 2 || this.vacation.description.length < 10) {\r\n            let errorMessage = \"some of the text fields you entered are too short!\";\r\n            ErrorHandlerUiUtils.showSnackbar(errorMessage, this);\r\n            ErrorHandlerUiUtils.hideSnackbar(this);\r\n            return false;\r\n        }\r\n\r\n        if (this.vacation.destination.length > 45 || this.vacation.description.length > 1000) {\r\n            let errorMessage = \"some of the text fields you entered are too long!\";\r\n            ErrorHandlerUiUtils.showSnackbar(errorMessage, this);\r\n            ErrorHandlerUiUtils.hideSnackbar(this);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private onUpdateVacationClicked = async () => {\r\n\r\n        if (!this.isFormFieldsValid()) {\r\n            return;\r\n        }\r\n\r\n        let currentButton = this.btn.current;\r\n        currentButton.setAttribute(\"disabled\", \"disabled\");\r\n\r\n        const data = new FormData();\r\n        data.append('fileToDelete', this.fileToDelete);\r\n        data.append('file', this.vacation.image);\r\n\r\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"token\");\r\n\r\n        try {\r\n            if (this.vacation.image !== this.fileToDelete) {\r\n                const res = await axios.post(this.props.hostUrl + \":3001/vacations/upload\", data, {});\r\n                this.vacation.image = res.data.filename;\r\n            }\r\n\r\n            await axios.put(this.props.hostUrl + ':3001/vacations/update', this.vacation);\r\n\r\n            //fix format for UI use\r\n            this.fixDateFormat(this.vacation.startDate);\r\n            this.fixDateFormat(this.vacation.endDate);\r\n\r\n            this.socket.emit('edit-vacation', this.vacation);\r\n\r\n            let newAdminState = { ...this.state };\r\n            newAdminState.isShowModal = !(newAdminState.isShowModal);\r\n\r\n            let indexForUpdate = VacationsUtils.getVacationIndex(newAdminState, this.vacation);\r\n\r\n            newAdminState.vacations[indexForUpdate] = this.vacation;\r\n            this.setState(newAdminState);\r\n\r\n            //init instance for next usage\r\n            this.vacation = new Vacation(\"\", this.props.hostUrl + \":3001/no-image.jpg\", \"\", 0, \"\", \"\", \"\");\r\n        }\r\n\r\n        catch (error) {\r\n            ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n        }\r\n\r\n        finally { currentButton.removeAttribute(\"disabled\") };\r\n\r\n    }\r\n\r\n    private onShowEditModalClicked = (vacation: Vacation) => {\r\n\r\n        this.onHandleModalButtonsDisplay(true, vacation);\r\n\r\n        let newStartDate = vacation.startDate.split(\"/\").reverse().join(\"-\");\r\n        let newEndDate = vacation.endDate.split(\"/\").reverse().join(\"-\");\r\n\r\n        // fill fields with required info    \r\n        this.vacation = new Vacation(\r\n            vacation.vacationId,\r\n            vacation.image,\r\n            vacation.destination,\r\n            vacation.price,\r\n            vacation.description,\r\n            newStartDate,\r\n            newEndDate,\r\n            vacation.numOfFollowers\r\n        )\r\n    }\r\n\r\n    private onDeleteVactionClicked = async (vacation: Vacation) => {\r\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"token\");\r\n\r\n        try {\r\n            await axios.delete(this.props.hostUrl + \":3001/vacations/delete/\" + vacation.vacationId);\r\n\r\n            this.socket.emit('delete-vacation', vacation);\r\n\r\n            let newAdminState = { ...this.state };\r\n            let indexForDelete = VacationsUtils.getVacationIndex(newAdminState, vacation);\r\n            newAdminState.vacations.splice(indexForDelete, 1);\r\n            this.setState(newAdminState);\r\n\r\n        }\r\n        catch (error) {\r\n            ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"admin\">\r\n                {/* Modal NGIF */}\r\n                {this.state.isShowModal &&\r\n                    <div className=\"popUp\">\r\n                        <div className=\"modalContainer\">\r\n                            <div className=\"imageForPreview\">\r\n                                <img src={this.state.imageForPreview} alt={this.vacation.destination} className=\"rounded-circle\" />\r\n                                \r\n                            </div>\r\n\r\n                            <div className=\"formContainer\">\r\n                                <i className=\"fas fa-times fa-2x closePopUp\" onClick={() => this.onHandleModalButtonsDisplay(false)} />\r\n\r\n                                <div className=\"form\">\r\n                                <div className=\"custom-file fileInput\">\r\n                                    <input type=\"file\" className=\"custom-file-input\" id=\"inputGroupFile01\" aria-describedby=\"inputGroupFileAddon01\" accept=\"image/*\" onChange={this.setImage} style={{ display: \"none\" }} />\r\n                                    <label htmlFor=\"inputGroupFile01\"><i className=\"fas fa-upload fa-2x nonDecoration\" />{this.state.fileInputLabel}</label>\r\n                                </div>\r\n                                    {!this.state.isShowUpdateButton && <h2>Add a new vacation</h2>}\r\n                                    {this.state.isShowUpdateButton && <h2>Update a vacation</h2>}\r\n\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Destination\" defaultValue={this.vacation.destination} onChange={this.setDestination} />\r\n\r\n                                    <textarea rows={5} className=\"form-control\" placeholder=\"Description...\" defaultValue={this.vacation.description} onChange={this.setDescription}></textarea>\r\n\r\n                                    <div className=\"input-group\">\r\n                                        <div className=\"dates\">\r\n                                            <label>Start date: </label>\r\n                                            <input type=\"date\" className=\"form-control date\" min={this.state.minDate} max={\"2100-01-01\"} defaultValue={this.vacation.startDate} onChange={this.setStartDate} onKeyDown={(e) => e.preventDefault()}></input>\r\n                                        </div>\r\n                                        <label className=\"separator\" style={{ marginLeft: \"10px\", marginRight: \"10px\" }}>- </label>\r\n                                        <div className=\"dates\">\r\n                                            <label>End date: </label>\r\n                                            <input type=\"date\" className=\"form-control date\" min={this.state.minDate} max={\"2100-01-01\"} defaultValue={this.vacation.endDate} onChange={this.setEndDate} onKeyDown={(e) => e.preventDefault()}></input>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"input-group\">\r\n                                        <input type=\"number\" min=\"0\" className=\"form-control\" id=\"price\" placeholder=\"Price\" defaultValue={this.vacation.price} onChange={this.setPrice} />\r\n                                        <label className=\"price\" htmlFor=\"price\">$</label>\r\n                                    </div>\r\n\r\n                                    {!this.state.isShowUpdateButton && <div><button ref={this.btn} onClick={() => this.onCreateVacationClicked()}>Create</button></div>}\r\n                                    {this.state.isShowUpdateButton && <div>\r\n                                        <button ref={this.btn} onClick={() => this.onUpdateVacationClicked()}>Update</button>\r\n                                    </div>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                <div className=\"administration\">\r\n                    <i className=\"fas fa-plus fa-2x\" onClick={() => this.onHandleModalButtonsDisplay(false)}><span className=\"nonDecoration\">Add vacation</span></i>\r\n                    <i className=\"fas fa-chart-bar fa-2x faIcon\"><span ><NavLink className=\"nonDecoration\" to=\"/reports\" exact>Reports</NavLink></span></i>\r\n                </div>\r\n                <div className=\"cardContainer\">\r\n                    {this.state.vacations.map(vacation =>\r\n                        <div className=\"card bg-purple text-white cardBody\" key={vacation.vacationId}>\r\n                            <h5 className=\"card-header\">{vacation.destination}</h5>\r\n                            <img className=\"card-img-top image\" src={vacation.image} alt={vacation.destination} />\r\n                            <div className=\"iconsBar\">\r\n                                <i className=\"fas fa-pencil-alt fa-2x nonDecoration\" onClick={() => this.onShowEditModalClicked(vacation)}></i>\r\n                                <i className=\"fas fa-trash-alt fa-2x faIcon nonDecoration\" onClick={() => this.onDeleteVactionClicked(vacation)}></i>\r\n                            </div>\r\n                            <div className=\"vacationBody\">\r\n                                <p className=\"card-text description\">{vacation.description}</p>\r\n                                <p className=\"card-text\">{vacation.startDate} - {vacation.endDate}</p>\r\n                            </div>\r\n                            <div className=\"vacationFooter card-footer\">\r\n                                <p>{vacation.price}$</p>\r\n                                <i className=\"far fa-grin-hearts fa-1x\"></i><span className=\"faIcon\">{vacation.numOfFollowers}</span>\r\n                            </div>\r\n\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n                    open={this.state.isShowSnackbar}\r\n                    message={this.state.snackbarMessage}\r\n                />\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default withRouter(Admin);","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport socketIOClient from 'socket.io-client'\r\nimport { Vacation } from \"../../models/vacation\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport ErrorHandlerUiUtils from \"../../utils/ErrorHandlerUIUtils\"\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport './reports.css';\r\n\r\ninterface reportsState {\r\n    labels: any,\r\n    data: any,\r\n    isShowSnackbar: boolean,\r\n    snackbarMessage: string\r\n}\r\n\r\nclass Reports extends Component<any, reportsState>{\r\n    private socket: any;\r\n\r\n    public constructor(props: any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            labels: [],\r\n            data: [],\r\n            isShowSnackbar: false,\r\n            snackbarMessage: \"\"\r\n        }\r\n    }\r\n\r\n    public componentDidMount = async () => {\r\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"token\");\r\n        try {\r\n            if (sessionStorage.getItem(\"token\") != null) {\r\n                let response = await axios.get(this.props.hostUrl + \":3001/users/details\");\r\n                const serverResponse = response.data;\r\n\r\n                this.socket = socketIOClient(this.props.hostUrl + ':3002', { query: 'token=' + sessionStorage.getItem(\"token\") });\r\n\r\n                if (serverResponse.userType !== \"Admin\") {\r\n                    this.props.history.push('/customer');\r\n                    return;\r\n                }\r\n            } else {\r\n                this.props.history.push('/home');\r\n                return;\r\n            }\r\n\r\n            this.registerSocketListeners();\r\n\r\n            const response = await axios.get(this.props.hostUrl + \":3001/vacations/reports\");\r\n\r\n            let labels = [];\r\n            let data = [];\r\n\r\n            for (let index = 0; index < response.data.length; index++) {\r\n                labels.push(response.data[index].destination);\r\n                data.push(response.data[index].numOfFollowers);\r\n            }\r\n\r\n            let newReportsState = { ...this.state }\r\n            newReportsState.labels = labels;\r\n            newReportsState.data = data;\r\n            this.setState(newReportsState)\r\n\r\n        }\r\n        catch (error) {\r\n            ErrorHandlerUiUtils.handleErrorsOnUi(error, this);\r\n        }\r\n    }\r\n\r\n    public componentWillUnmount = () => {\r\n        if (this.socket != null) {\r\n            this.socket.disconnect();\r\n        }\r\n\r\n    }\r\n\r\n    private randomColors = () => {\r\n        let colorsArray = [];\r\n        for (let index = 0; index < this.state.labels.length; index++) {\r\n            let r = Math.floor(Math.random() * 256);\r\n            let g = Math.floor(Math.random() * 256);\r\n            let b = Math.floor(Math.random() * 256);\r\n            colorsArray.push(\"rgba(\" + r + \",\" + g + \",\" + b + \",0.2)\");\r\n        }\r\n        return colorsArray;\r\n\r\n    }\r\n\r\n    private registerSocketListeners = () => {\r\n        this.socket.on('follow-vacation', (vacation: Vacation) => {\r\n            let newReportsState = { ...this.state }\r\n\r\n            if (newReportsState.labels.includes(vacation.destination)) {\r\n                let indexForUpdate = newReportsState.labels.indexOf(vacation.destination);\r\n                newReportsState.data[indexForUpdate] = newReportsState.data[indexForUpdate] + 1;\r\n            } else {\r\n                newReportsState.labels.push(vacation.destination);\r\n                newReportsState.data.push(1);\r\n            }\r\n\r\n            this.setState(newReportsState);\r\n\r\n        })\r\n\r\n        this.socket.on('unfollow-vacation', (vacation: Vacation) => {\r\n            let newReportsState = { ...this.state }\r\n            let indexForUpdate = newReportsState.labels.indexOf(vacation.destination);\r\n\r\n            if (newReportsState.data[indexForUpdate] === 1) {\r\n                newReportsState.data.splice(indexForUpdate, 1);\r\n                newReportsState.labels.splice(indexForUpdate, 1);\r\n            } else if (newReportsState.data[indexForUpdate] > 1) {\r\n                newReportsState.data[indexForUpdate] = newReportsState.data[indexForUpdate] - 1;\r\n            }\r\n\r\n            this.setState(newReportsState);\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"reports\">\r\n                <h1>REPORTS</h1>\r\n                <Bar redraw\r\n                    data={{\r\n                        labels: this.state.labels,\r\n                        datasets: [\r\n                            {\r\n                                backgroundColor: this.randomColors(),\r\n                                borderColor: this.randomColors(),\r\n                                borderWidth: 2,\r\n                                data: this.state.data\r\n                            }\r\n                        ]\r\n                    }}\r\n                    options={{\r\n                        maintainAspectRatio: false,\r\n                        responsive: true,\r\n                        title: {\r\n                            display: false,\r\n                        },\r\n                        legend: {\r\n                            display: false,\r\n                        },\r\n                        scales: {\r\n                            yAxes: [{\r\n                                ticks: {\r\n                                    beginAtZero: true,\r\n                                    min: 0,\r\n                                    stepSize: 1\r\n                                }\r\n                            }]\r\n                        }\r\n                    }}\r\n                    width={200}\r\n                    height={180}\r\n                    \r\n                />\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n                    open={this.state.isShowSnackbar}\r\n                    message={this.state.snackbarMessage}\r\n                />\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default withRouter(Reports);","import React from 'react'\nimport './PageNotFound.css'\n\nexport default function PageNotFound() {\n    return (\n        <div className=\"pageNotFound\">\n\n            <div className=\"text\"><p>404</p></div>\n            <div className=\"container\">\n\n                <div className=\"caveman\">\n                    <div className=\"leg\">\n                        <div className=\"foot\"><div className=\"fingers\"></div></div>\n                    </div>\n                    <div className=\"leg\">\n                        <div className=\"foot\"><div className=\"fingers\"></div></div>\n                    </div>\n                    <div className=\"shape\">\n                        <div className=\"circle\"></div>\n                        <div className=\"circle\"></div>\n                    </div>\n                    <div className=\"head\">\n                        <div className=\"eye\"><div className=\"nose\"></div></div>\n                        <div className=\"mouth\"></div>\n                    </div>\n                    <div className=\"arm-right\"><div className=\"club\"></div></div>\n                </div>\n\n                <div className=\"caveman\">\n                    <div className=\"leg\">\n                        <div className=\"foot\"><div className=\"fingers\"></div></div>\n                    </div>\n                    <div className=\"leg\">\n                        <div className=\"foot\"><div className=\"fingers\"></div></div>\n                    </div>\n                    <div className=\"shape\">\n                        <div className=\"circle\"></div>\n                        <div className=\"circle\"></div>\n                    </div>\n                    <div className=\"head\">\n                        <div className=\"eye\"><div className=\"nose\"></div></div>\n                        <div className=\"mouth\"></div>\n                    </div>\n                    <div className=\"arm-right\"><div className=\"club\"></div></div>\n                </div>\n            </div>\n\n            <a href=\"https://codepen.io/SofiaSergio/\">\n                <div id=\"link\">\n                    <i className=\"fab fa-codepen\"></i>\n                    <p>404 copyrights</p>\n                </div>\n            </a>\n        </div>\n    )\n}","import React from \"react\"\r\nimport \"./header.css\"\r\n\r\nexport default function Header() {\r\n    return (\r\n        <div className=\"header\">\r\n            <video autoPlay muted loop id=\"myVideo\" width=\"100%\" height=\"auto\">\r\n                <source src=\"../../images/mainHeader.mp4\" type=\"video/mp4\" />\r\n            </video>\r\n        </div>\r\n\r\n    )\r\n}","import React, { Component } from \"react\";\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport Footer from \"../footer/footer\";\r\nimport Login from \"../login/login\";\r\nimport Register from \"../register/register\";\r\nimport Customer from \"../customer/customer\";\r\nimport NavBar from \"../navBar/navBar\";\r\nimport Admin from \"../admin/admin\";\r\nimport Reports from \"../reports/reports\";\r\nimport PageNotFound from \"../PageNotFound/PageNotFound\";\r\nimport Header from \"../header/header\";\r\nimport \"./layout.css\";\r\n\r\nexport default class Layout extends Component {\r\n    public hostUrl = \"http://34.65.225.69\";\r\n\r\n    public render() {\r\n        return (\r\n            <BrowserRouter>\r\n            <section className=\"layout\">\r\n                \r\n                <nav>\r\n                    <NavBar hostUrl = {this.hostUrl} />\r\n                </nav>\r\n\r\n                <header>\r\n                    <Header />\r\n                </header>\r\n\r\n                <main>\r\n                    <Switch>\r\n                         <Redirect path=\"/\" to=\"/home\" exact />\r\n                         <Route path=\"/home\" component={() => <Login hostUrl={this.hostUrl} />}  exact />\r\n                         <Route path=\"/register\" component={() => <Register hostUrl={this.hostUrl} />}  exact />\r\n                         <Route path=\"/customer\" component={() => <Customer hostUrl={this.hostUrl} />}  exact />\r\n                         <Route path=\"/admin\" component={() => <Admin hostUrl={this.hostUrl} />}  exact />\r\n                         <Route path=\"/reports\" component={() => <Reports hostUrl={this.hostUrl} />}  exact />\r\n                         <Route component={PageNotFound} />\r\n                    </Switch>\r\n                </main>\r\n                \r\n                <footer>\r\n                    <Footer />\r\n                </footer>\r\n            </section>\r\n            </BrowserRouter>\r\n        );\r\n    }\r\n} ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport Layout from './components/layout/layout';\n\nReactDOM.render(\n\n    <Layout />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}